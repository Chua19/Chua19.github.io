<h1>320 Final Project</h1>
<p>Everyone is always big into sports, whether it’s football, basketball, baseball, etc. However, esports are something I’ve watched since I was in high school, and I still follow many esports to this day. One of the biggest esports right now is League of Legends, with an average of around 200,000 viewers across all of its global leagues. Currently the first worlds tournament of the year is going on, with teams from around the world meeting in South Korea to compete amongst each other. The big question coming into this tournament was how teams from different leagues would compete against each other. Instead of taking guesses on how each team would play, I decided to find match data from all leagues and use the numbers to compare teams within each league to each other as well as whole leagues to other leagues as a whole. The goal of this data would be to determine if teams from around the world played differently.</p>
<h2>Background Information</h2>
<p>I wanted to give some very basic information on the game of League of Legends, specifically covering things that will show up in the data below. League of Legends (also can be shortened to just League) is a 5v5 MOBA, with all 10 players choosing a different character to play. The final goal of the game is to defeat the enemy’s base, but in order to accomplish that and get stronger, teams will work to get gold. Gold can be achieved through multiple ways, including towers (column towers), dragons (column dragons), player kills (column teamkills), and minion/monster kills (column total cs). In general, gold can be tracked under the column totalgold which gives the total gold by each player/team for the whole game. While gold isn’t an accurate representation of the results of games, usually the team with more gold is considered stronger. The last semi-important column for now is patch, which gives the game patch the match was played on. League of Legends is updated every two weeks, where characters that are too strong are nerfed and characters that are considered weak are buffed. Columns will be explained again as they are used throughout this project. To get an overview of the game, the developers provided a quick tutorial at https://www.leagueoflegends.com/en-us/how-to-play/</p>
<h2>Data Scraping</h2>
<p>To determine how regions play, we need to find match data from all leagues. https://oracleselixir.com/tools/downloads has match data for all matches that happen every year, so we want match data specifically from this year:</p>
<div class="jp-Cell jp-CodeCell jp-Notebook-cell   ">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In&nbsp;[1]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
     <div class="CodeMirror cm-s-jupyter">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="nn">dt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">seaborn</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1">#Grab the csv from the website</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"https://oracleselixir-downloadable-match-data.s3-us-west-2.amazonaws.com/2022_LoL_esports_match_data_from_OraclesElixir_20220515.csv"</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

     </div>
</div>
</div>
</div>

<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>


<div class="jp-OutputArea jp-Cell-outputArea">

<div class="jp-OutputArea-child">

    
    <div class="jp-OutputPrompt jp-OutputArea-prompt">Out[1]:</div>



<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>gameid</th>
      <th>datacompleteness</th>
      <th>url</th>
      <th>league</th>
      <th>year</th>
      <th>split</th>
      <th>playoffs</th>
      <th>date</th>
      <th>game</th>
      <th>patch</th>
      <th>...</th>
      <th>opp_csat15</th>
      <th>golddiffat15</th>
      <th>xpdiffat15</th>
      <th>csdiffat15</th>
      <th>killsat15</th>
      <th>assistsat15</th>
      <th>deathsat15</th>
      <th>opp_killsat15</th>
      <th>opp_assistsat15</th>
      <th>opp_deathsat15</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ESPORTSTMNT01_2690210</td>
      <td>complete</td>
      <td>NaN</td>
      <td>LCK CL</td>
      <td>2022</td>
      <td>Spring</td>
      <td>0</td>
      <td>2022-01-10 07:44:08</td>
      <td>1</td>
      <td>12.01</td>
      <td>...</td>
      <td>121.0</td>
      <td>391.0</td>
      <td>345.0</td>
      <td>14.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ESPORTSTMNT01_2690210</td>
      <td>complete</td>
      <td>NaN</td>
      <td>LCK CL</td>
      <td>2022</td>
      <td>Spring</td>
      <td>0</td>
      <td>2022-01-10 07:44:08</td>
      <td>1</td>
      <td>12.01</td>
      <td>...</td>
      <td>100.0</td>
      <td>541.0</td>
      <td>-275.0</td>
      <td>-11.0</td>
      <td>2.0</td>
      <td>3.0</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>5.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ESPORTSTMNT01_2690210</td>
      <td>complete</td>
      <td>NaN</td>
      <td>LCK CL</td>
      <td>2022</td>
      <td>Spring</td>
      <td>0</td>
      <td>2022-01-10 07:44:08</td>
      <td>1</td>
      <td>12.01</td>
      <td>...</td>
      <td>119.0</td>
      <td>-475.0</td>
      <td>153.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ESPORTSTMNT01_2690210</td>
      <td>complete</td>
      <td>NaN</td>
      <td>LCK CL</td>
      <td>2022</td>
      <td>Spring</td>
      <td>0</td>
      <td>2022-01-10 07:44:08</td>
      <td>1</td>
      <td>12.01</td>
      <td>...</td>
      <td>149.0</td>
      <td>-793.0</td>
      <td>-1343.0</td>
      <td>-34.0</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>3.0</td>
      <td>3.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ESPORTSTMNT01_2690210</td>
      <td>complete</td>
      <td>NaN</td>
      <td>LCK CL</td>
      <td>2022</td>
      <td>Spring</td>
      <td>0</td>
      <td>2022-01-10 07:44:08</td>
      <td>1</td>
      <td>12.01</td>
      <td>...</td>
      <td>21.0</td>
      <td>443.0</td>
      <td>-497.0</td>
      <td>7.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>2.0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 123 columns</p>
</div>
</div>

</div>

</div>

</div>

</div>
<p>Now that we have the match data we want to remove columns that aren’t necessary. Columns that give opponent data (i.e. opp_dragons, opp_towers, etc.) are not needed and can be removed since the opponent’s data is also in the dataset, just in a different row. We can also remove niche data like doublekills, firstbloodkill, etc. since it doesn’t provide valuable information. Finally, we remove gameid, url, and datacompleteness as they are not needed.</p>
<div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs  ">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In&nbsp;[2]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
     <div class="CodeMirror cm-s-jupyter">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#drop columns we don't need</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'gameid'</span><span class="p">,</span> <span class="s1">'url'</span><span class="p">,</span> <span class="s1">'datacompleteness'</span><span class="p">,</span> <span class="s1">'doublekills'</span><span class="p">,</span> <span class="s1">'triplekills'</span><span class="p">,</span> <span class="s1">'quadrakills'</span><span class="p">,</span> <span class="s1">'pentakills'</span><span class="p">,</span> <span class="s1">'firstbloodkill'</span><span class="p">,</span> <span class="s1">'firstbloodassist'</span><span class="p">,</span> <span class="s1">'firstbloodvictim'</span><span class="p">,</span> <span class="s1">'monsterkillsownjungle'</span><span class="p">,</span> <span class="s1">'monsterkillsenemyjungle'</span><span class="p">,</span> <span class="s1">'opp_killsat15'</span><span class="p">,</span> <span class="s1">'opp_assistsat15'</span><span class="p">,</span> <span class="s1">'opp_deathsat15'</span><span class="p">,</span> <span class="s1">'opp_dragons'</span><span class="p">,</span> <span class="s1">'opp_elementaldrakes'</span><span class="p">,</span> <span class="s1">'chemtechs'</span><span class="p">,</span> <span class="s1">'dragons (type unknown)'</span><span class="p">,</span> <span class="s1">'opp_elders'</span><span class="p">,</span> <span class="s1">'opp_heralds'</span><span class="p">,</span> <span class="s1">'opp_barons'</span><span class="p">,</span> <span class="s1">'opp_towers'</span><span class="p">,</span> <span class="s1">'firstmidtower'</span><span class="p">,</span> <span class="s1">'firsttothreetowers'</span><span class="p">,</span> <span class="s1">'opp_turretplates'</span><span class="p">,</span> <span class="s1">'opp_inhibitors'</span><span class="p">,</span> <span class="s1">'goldat10'</span><span class="p">,</span> <span class="s1">'xpat10'</span><span class="p">,</span> <span class="s1">'csat10'</span><span class="p">,</span> <span class="s1">'opp_goldat10'</span><span class="p">,</span> <span class="s1">'opp_xpat10'</span><span class="p">,</span> <span class="s1">'opp_csat10'</span><span class="p">,</span> <span class="s1">'golddiffat10'</span><span class="p">,</span> <span class="s1">'xpdiffat10'</span><span class="p">,</span> <span class="s1">'csdiffat10'</span><span class="p">,</span> <span class="s1">'killsat10'</span><span class="p">,</span> <span class="s1">'assistsat10'</span><span class="p">,</span> <span class="s1">'deathsat10'</span><span class="p">,</span> <span class="s1">'opp_killsat10'</span><span class="p">,</span> <span class="s1">'opp_assistsat10'</span><span class="p">,</span> <span class="s1">'opp_deathsat10'</span><span class="p">,</span> <span class="s1">'opp_goldat15'</span><span class="p">,</span> <span class="s1">'opp_xpat15'</span><span class="p">,</span> <span class="s1">'opp_csat15'</span><span class="p">,</span> <span class="s1">'playerid'</span><span class="p">,</span> <span class="s1">'teamid'</span><span class="p">,</span> <span class="s1">'year'</span><span class="p">,</span> <span class="s1">'teamkills'</span><span class="p">,</span> <span class="s1">'teamdeaths'</span><span class="p">,</span> <span class="s1">'damagetakenperminute'</span><span class="p">,</span> <span class="s1">'damagemitigatedperminute'</span><span class="p">,</span> <span class="s1">'wpm'</span><span class="p">,</span> <span class="s1">'wardskilled'</span><span class="p">,</span> <span class="s1">'wcpm'</span><span class="p">,</span> <span class="s1">'vspm'</span><span class="p">,</span> <span class="s1">'earnedgold'</span><span class="p">,</span> <span class="s1">'earned gpm'</span><span class="p">,</span> <span class="s1">'earnedgoldshare'</span><span class="p">,</span> <span class="s1">'goldspent'</span><span class="p">,</span> <span class="s1">'cspm'</span><span class="p">,</span> <span class="s1">'assistsat15'</span><span class="p">,</span> <span class="s1">'firstbaron'</span><span class="p">,</span> <span class="s1">'firstherald'</span><span class="p">,</span> <span class="s1">'ckpm'</span><span class="p">,</span> <span class="s1">'elementaldrakes'</span><span class="p">,</span> <span class="s1">'split'</span><span class="p">,</span> <span class="s1">'game'</span><span class="p">])</span>
</pre></div>

     </div>
</div>
</div>
</div>

</div>
<div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs  ">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In&nbsp;[3]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
     <div class="CodeMirror cm-s-jupyter">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Separate Team and Player Data</span>

<span class="c1">#Team Data is marked by participant id 100 or 200</span>
<span class="n">teamData</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">data</span><span class="p">[</span><span class="s1">'participantid'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">100</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">'participantid'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)]</span>
<span class="c1">#Player Data is marked by participant id 1 - 10</span>
<span class="n">playerData</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">data</span><span class="p">[</span><span class="s1">'participantid'</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">100</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">'participantid'</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">200</span><span class="p">)]</span>
</pre></div>

     </div>
</div>
</div>
</div>

</div>
<div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs  ">
<div class="jp-Cell-inputWrapper">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In&nbsp;[4]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
     <div class="CodeMirror cm-s-jupyter">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#drop columns we don't need</span>
<span class="n">teamData</span> <span class="o">=</span> <span class="n">teamData</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'playername'</span><span class="p">,</span> <span class="s1">'champion'</span><span class="p">,</span> <span class="s1">'damageshare'</span><span class="p">,</span> <span class="s1">'total cs'</span><span class="p">,</span> <span class="s1">'position'</span><span class="p">,</span> <span class="s1">'participantid'</span><span class="p">])</span>
<span class="n">playerData</span> <span class="o">=</span> <span class="n">playerData</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'participantid'</span><span class="p">,</span> <span class="s1">'ban1'</span><span class="p">,</span> <span class="s1">'ban2'</span><span class="p">,</span> <span class="s1">'ban3'</span><span class="p">,</span> <span class="s1">'ban4'</span><span class="p">,</span> <span class="s1">'ban5'</span><span class="p">,</span> <span class="s1">'firstblood'</span><span class="p">,</span> <span class="s1">'team kpm'</span><span class="p">,</span> <span class="s1">'firstdragon'</span><span class="p">,</span> <span class="s1">'dragons'</span><span class="p">,</span> <span class="s1">'infernals'</span><span class="p">,</span> <span class="s1">'mountains'</span><span class="p">,</span> <span class="s1">'clouds'</span><span class="p">,</span> <span class="s1">'oceans'</span><span class="p">,</span> <span class="s1">'hextechs'</span><span class="p">,</span> <span class="s1">'elders'</span><span class="p">,</span> <span class="s1">'heralds'</span><span class="p">,</span> <span class="s1">'barons'</span><span class="p">,</span> <span class="s1">'firsttower'</span><span class="p">,</span> <span class="s1">'towers'</span><span class="p">,</span> <span class="s1">'turretplates'</span><span class="p">,</span> <span class="s1">'inhibitors'</span><span class="p">,</span> <span class="s1">'gspd'</span><span class="p">])</span>
</pre></div>

     </div>
</div>
</div>
</div>

</div>
